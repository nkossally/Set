{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/deck.js","webpack:///./lib/draw.js","webpack:///./lib/game.js","webpack:///./lib/main.js"],"names":["COLORS","SYMBOL","NUMBER","SHADING","Deck","pile","faceUpCards","faceUpCount","selected","outOfPlayCards","dealCard","bind","createDeck","removeCard","dealNullCard","color","symbol","number","shading","i","length","j","k","l","push","card","idx","idxPile","Math","floor","random","splice","nullCard","undefined","indexOf","module","exports","require","SYMBOL_SIZE","CARD_SIZE","x","y","Draw","ctxPattern","background","canvasPattern","deck","colorSymbols","animateDrawCard","drawInstructions","ctx","CARD_MARGIN","INSTRUCTIONS_POS","CLOSE_INSTRUCTIONS_POS","CLOSE_INSTRUCTIONS_SIZE","INSTRUCTIONS_BUTTON_POS","INSTRUCTIONS_SIZE","SUBMIT_SIZE","drawButton","fillStyle","globalAlpha","fillRect","canvas","width","height","strokeStyle","beginPath","rect","closePath","stroke","font","fillText","card1","card2","card3","pos1","pos2","pos3","drawCard","card4","card5","card6","pos4","pos5","pos6","pos","scale","clearCard","drawRoundedRec","drawSymbols","radius","moveTo","lineTo","arcTo","fill","text","textPos","ellipse","PI","createPattern","drawRectangles","drawDiamonds","drawOvals","drawRectangle","drawOval","drawDiamond","startScale","endScale","direction","that","requestAnimationFrame","Game","selection","validColors","validNumbers","validShading","validSymbols","testOne","testTwo","testThree","validSelections","isValidSelection","showCount","score","instructionsShowing","Image","src","canvasBackground","document","createElement","ctxBackground","getContext","getElementById","max","window","innerWidth","innerHeight","IN_SET","SCORE_POS","SUBMIT_POS","DEAL_THREE_MORE_POS","SHOW_MOVE_POS","SHOW_VALID_POS","NEW_GAME_POS","OUT_OF_PLAY_POS","YOU_WIN_POS","game","draw","addEventListener","handleClick","event","cx","pageX","cy","pageY","handleCloseInstructions","handleShowInstructions","handleSelect","handleSubmit","handleDealThreeMore","handleShowMove","handleNewGame","indexToPos","includes","renderBoard","highlightSelected","oldPos","setTimeout","forEach","afterCardAnimation","drawOutOfPlayCards","showNumberOfMoves","showScore","showWin","highlightCard","navLinks","card_img","classList","add","remove","renderBackground","prevCard","selections","findAllValidSelections","selectIndex","newGame","drawButtons","onload","column"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/main.js\");\n","const COLORS = [\"#fb4c4d\", \"#0ef691\", \"#62a6e0\"];\nconst SYMBOL = [\"oval\", \"rectangle\", \"diamond\"];\nconst NUMBER = [1, 2, 3];\nconst SHADING = [\"solid\", \"open\", \"striped\"];\n\nclass Deck {\n  constructor() {\n    this.pile = [];\n    this.faceUpCards = [];\n    this.faceUpCount = 0;\n    this.selected = [];\n    this.outOfPlayCards = [];\n    this.dealCard = this.dealCard.bind(this);\n    this.createDeck = this.createDeck.bind(this);\n    this.removeCard = this.removeCard.bind(this);\n    this.dealNullCard = this.dealNullCard.bind(this);\n  }\n\n  card(color, symbol, number, shading) {\n    return { color: color, symbol: symbol, number: number, shading: shading };\n  }\n\n  createDeck() {\n    for (let i = 0; i < COLORS.length; i++) {\n      for (let j = 0; j < SYMBOL.length; j++) {\n        for (let k = 0; k < NUMBER.length; k++) {\n          for (let l = 0; l < SHADING.length; l++) {\n            this.pile.push(\n              this.card(COLORS[i], SYMBOL[j], NUMBER[k], SHADING[l])\n            );\n          }\n        }\n      }\n    }\n  }\n\n  dealCard(idx) {\n    // if(this.faceUpCards[idx] && this.faceUpCards[idx].symbol !== undefined){\n    //     return this.faceUpCards[idx];\n    // }\n    if (this.pile.length > 0) {\n      idxPile = Math.floor(Math.random() * (this.pile.length - 1));\n      this.faceUpCards[idx] = this.pile[idxPile];\n      this.faceUpCount += 1;\n      this.pile.splice(idxPile, 1);\n      return this.faceUpCards[idx];\n    } else {\n      return this.dealNullCard(idx);\n    }\n  }\n\n  dealNullCard(idx) {\n    let nullCard = this.card(undefined, undefined, undefined, undefined);\n    this.faceUpCards[idx] = nullCard;\n    return nullCard;\n  }\n\n  removeCard(card) {\n    this.outOfPlayCards.push(card);\n    // this.selected.splice(this.selected.indexOf(card), 1);\n    idx = this.faceUpCards.indexOf(card);\n    this.faceUpCount -= 1;\n\n    if (this.faceUpCount < 12) {\n      this.dealCard(idx);\n    } else {\n      this.dealNullCard(idx);\n    }\n    return idx;\n  }\n}\n\nmodule.exports = Deck;\n","const Deck = require(\"./deck.js\");\n\nconst SYMBOL_SIZE = (140 * (130 / 140) * 3) / 14;\nconst CARD_SIZE = { x: (100 * 130) / 140, y: (140 * 130) / 140 };\n\nclass Draw {\n  constructor(ctxPattern, background, canvasPattern) {\n    this.ctxPattern = ctxPattern;\n    this.background = background;\n    this.canvasPattern = canvasPattern;\n    this.deck = new Deck();\n    this.colorSymbols = this.colorSymbols.bind(this);\n    this.animateDrawCard = this.animateDrawCard.bind(this);\n    this.drawInstructions = this.drawInstructions.bind(this);\n  }\n\n  drawInstructions(\n    ctx,\n    CARD_MARGIN,\n    INSTRUCTIONS_POS,\n    CLOSE_INSTRUCTIONS_POS,\n    CLOSE_INSTRUCTIONS_SIZE,\n    INSTRUCTIONS_BUTTON_POS,\n    INSTRUCTIONS_SIZE,\n    SUBMIT_SIZE\n  ) {\n    this.drawButton(\n      ctx,\n      INSTRUCTIONS_BUTTON_POS,\n      \"Instructions\",\n      { x: 23, y: 21 },\n      \"gray\",\n      SUBMIT_SIZE\n    );\n\n    ctx.fillStyle = \"gray\";\n    ctx.globalAlpha = 0.5;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // instructionsShowing = true;\n\n    ctx.globalAlpha = 1;\n    ctx.fillStyle = \"#BDF3FF\";\n    ctx.strokeStyle = \"#847b7e\";\n    ctx.fillRect(\n      INSTRUCTIONS_POS.x,\n      INSTRUCTIONS_POS.y,\n      INSTRUCTIONS_SIZE.x,\n      INSTRUCTIONS_SIZE.y\n    );\n    ctx.beginPath();\n    ctx.rect(\n      INSTRUCTIONS_POS.x,\n      INSTRUCTIONS_POS.y,\n      INSTRUCTIONS_SIZE.x,\n      INSTRUCTIONS_SIZE.y\n    );\n    ctx.closePath();\n    ctx.stroke();\n\n    ctx.fillStyle = \"red\";\n    ctx.fillRect(\n      CLOSE_INSTRUCTIONS_POS.x,\n      CLOSE_INSTRUCTIONS_POS.y,\n      CLOSE_INSTRUCTIONS_SIZE.x,\n      CLOSE_INSTRUCTIONS_SIZE.y\n    );\n    ctx.fillStyle = \"white\";\n    ctx.font = \"19px Georgia\";\n    ctx.fillText(\n      \"x\",\n      CLOSE_INSTRUCTIONS_POS.x + 6,\n      CLOSE_INSTRUCTIONS_POS.y + 15\n    );\n\n    ctx.fillStyle = \"#514e4f\";\n    ctx.fillText(\n      \"                                               Instructions:\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 50\n    );\n\n    ctx.font = \"18px Georgia\";\n\n    ctx.fillText(\n      \"   The object of each round of Set is to find a ‘set’ of three cards from the\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 90\n    );\n\n    ctx.fillText(\n      \"      available face up cards. Each card has four features (color, symbol,\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 115\n    );\n\n    ctx.fillText(\n      \"   number and shading). In a proper ‘set,’ for each feature, all three cards\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 140\n    );\n\n    ctx.fillText(\n      \"     have the same variation of the feature, or different variations of the\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 165\n    );\n\n    ctx.fillText(\n      \"                feature. The variations of each feature are as follows:\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 190\n    );\n\n    ctx.fillText(\n      \"                              1. Color: red, green, or blue.\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 215\n    );\n    ctx.fillText(\n      \"                              2. Symbol: ovals, rectangles, or diamonds.\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 240\n    );\n    ctx.fillText(\n      \"                              3. Number: one, two, or three symbols. \",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 265\n    );\n    ctx.fillText(\n      \"                              4. Shading: solid, open, or striped.\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 290\n    );\n    ctx.fillText(\n      \" In the set below, the cards have different numbers and symbols, and the\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 315\n    );\n    ctx.fillText(\n      \"                                   same color and shading.\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 340\n    );\n\n    let card1 = this.deck.card(\"#0ef691\", \"oval\", 1, \"striped\");\n    let card2 = this.deck.card(\"#0ef691\", \"rectangle\", 2, \"striped\");\n    let card3 = this.deck.card(\"#0ef691\", \"diamond\", 3, \"striped\");\n    let pos1 = { x: INSTRUCTIONS_POS.x + 200, y: INSTRUCTIONS_POS.y + 365 };\n    let pos2 = {\n      x: INSTRUCTIONS_POS.x + 200 + ((CARD_SIZE.x + CARD_MARGIN.x) * 1) / 2,\n      y: INSTRUCTIONS_POS.y + 365\n    };\n    let pos3 = {\n      x:\n        INSTRUCTIONS_POS.x +\n        200 +\n        (((CARD_SIZE.x + CARD_MARGIN.x) * 1) / 2) * 2,\n      y: INSTRUCTIONS_POS.y + 365\n    };\n\n    this.drawCard(ctx, pos1, 1 / 2, \"white\", card1);\n    this.drawCard(ctx, pos2, 1 / 2, \"white\", card2);\n    this.drawCard(ctx, pos3, 1 / 2, \"white\", card3);\n\n    ctx.fillStyle = \"#514e4f\";\n    ctx.fillText(\n      \"    And this next set has different numbers, symbols, colors and shading.\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 470\n    );\n\n    let card4 = deck.card(\"#0ef691\", \"oval\", 1, \"striped\");\n    let card5 = deck.card(\"#fb4c4d\", \"rectangle\", 2, \"solid\");\n    let card6 = deck.card(\"#62a6e0\", \"diamond\", 3, \"open\");\n    let pos4 = { x: INSTRUCTIONS_POS.x + 200, y: INSTRUCTIONS_POS.y + 495 };\n    let pos5 = {\n      x: INSTRUCTIONS_POS.x + 200 + ((CARD_SIZE.x + CARD_MARGIN.x) * 1) / 2,\n      y: INSTRUCTIONS_POS.y + 495\n    };\n    let pos6 = {\n      x:\n        INSTRUCTIONS_POS.x +\n        200 +\n        (((CARD_SIZE.x + CARD_MARGIN.x) * 1) / 2) * 2,\n      y: INSTRUCTIONS_POS.y + 495\n    };\n\n    this.drawCard(ctx, pos4, 1 / 2, \"white\", card4);\n    this.drawCard(ctx, pos5, 1 / 2, \"white\", card5);\n    this.drawCard(ctx, pos6, 1 / 2, \"white\", card6);\n\n    ctx.fillStyle = \"#514e4f\";\n    ctx.fillText(\n      \"                         The game ends when you find ten sets.\",\n      INSTRUCTIONS_POS.x + 10,\n      INSTRUCTIONS_POS.y + 600\n    );\n  }\n\n  drawCard(ctx, pos, scale, color, card) {\n    if (scale >= 0) {\n      this.clearCard(ctx, pos, scale, CARD_SIZE);\n      this.drawRoundedRec(\n        ctx,\n        pos,\n        CARD_SIZE.x * scale,\n        CARD_SIZE.y * scale,\n        (CARD_SIZE.x * scale) / 10,\n        color\n      );\n      ctx.strokeStyle = \"#f8cdbf\";\n      ctx.stroke();\n      if (card) this.drawSymbols(ctx, card, pos, scale);\n    }\n  }\n\n  clearCard(ctx, pos, scale) {\n    this.drawRoundedRec(\n      ctx,\n      { x: pos.x - 1, y: pos.y - 1 },\n      scale * CARD_SIZE.x + 2,\n      scale * CARD_SIZE.y + 2,\n      (scale * CARD_SIZE.x) / 10,\n      \"#BDF3FF\"\n    );\n  }\n\n  drawRoundedRec(ctx, pos, width, length, radius, color) {\n    ctx.beginPath();\n    ctx.moveTo(pos.x + radius, pos.y);\n    ctx.lineTo(pos.x + width - radius, pos.y, radius);\n    ctx.arcTo(pos.x + width, pos.y, pos.x + width, pos.y + radius, radius);\n    ctx.lineTo(pos.x + width, pos.y + length - radius);\n    ctx.arcTo(\n      pos.x + width,\n      pos.y + length,\n      pos.x + width - radius,\n      pos.y + length,\n      radius\n    );\n    ctx.lineTo(pos.x + radius, pos.y + length);\n    ctx.arcTo(pos.x, pos.y + length, pos.x, pos.y + length - radius, radius);\n    ctx.lineTo(pos.x, pos.y + radius);\n    ctx.arcTo(pos.x, pos.y, pos.x + radius, pos.y, radius);\n    ctx.fillStyle = color;\n    ctx.fill();\n    ctx.closePath();\n  }\n\n  drawButton(ctx, pos, text, textPos, color, SUBMIT_SIZE) {\n    this.drawRoundedRec(\n      ctx,\n      pos,\n      SUBMIT_SIZE.x,\n      SUBMIT_SIZE.y,\n      SUBMIT_SIZE.x / 10,\n      color\n    );\n    ctx.fillStyle = \"white\";\n    ctx.font = \"19px Georgia\";\n    ctx.fillText(text, pos.x + textPos.x, pos.y + textPos.y);\n  }\n\n  drawDiamond(ctx, card, pos, scale) {\n    ctx.beginPath();\n    ctx.moveTo(pos.x, pos.y + (SYMBOL_SIZE * scale) / 2);\n    ctx.lineTo(pos.x + SYMBOL_SIZE * scale, pos.y);\n    ctx.lineTo(\n      pos.x + 2 * SYMBOL_SIZE * scale,\n      pos.y + (SYMBOL_SIZE * scale) / 2\n    );\n    ctx.lineTo(pos.x + SYMBOL_SIZE * scale, pos.y + SYMBOL_SIZE * scale);\n    ctx.lineTo(pos.x, pos.y + (SYMBOL_SIZE * scale) / 2);\n    ctx.closePath();\n    this.colorSymbols(ctx, card);\n  }\n\n  drawOval(ctx, card, pos, scale) {\n    ctx.beginPath();\n    ctx.ellipse(\n      pos.x + SYMBOL_SIZE * scale,\n      pos.y + (SYMBOL_SIZE * scale) / 2,\n      SYMBOL_SIZE * scale,\n      (SYMBOL_SIZE * scale) / 2,\n      0,\n      0,\n      2 * Math.PI\n    );\n    ctx.closePath();\n    this.colorSymbols(ctx, card);\n  }\n\n  drawRectangle(ctx, card, pos, scale) {\n    ctx.beginPath();\n    ctx.rect(pos.x, pos.y, 2 * SYMBOL_SIZE * scale, SYMBOL_SIZE * scale);\n    ctx.closePath();\n    this.colorSymbols(ctx, card);\n  }\n\n  colorSymbols(ctx, card) {\n    ctx.fillStyle = card.color;\n    ctx.strokeStyle = card.color;\n    if (card.shading === \"open\") ctx.stroke();\n    if (card.shading === \"solid\") ctx.fill();\n    if (card.shading === \"striped\") {\n      this.ctxPattern.strokeStyle = card.color;\n      this.ctxPattern.stroke();\n      ctx.fillStyle = ctx.createPattern(this.canvasPattern, \"repeat\");\n      ctx.stroke();\n      ctx.fill();\n    }\n  }\n\n  drawSymbols(ctx, card, pos, scale) {\n    if (card.symbol === undefined) {\n      ctx.globalAlpha = 0.5;\n      this.drawCard(\n        ctx,\n        pos,\n        scale,\n        ctx.createPattern(this.background, \"repeat\")\n      );\n      ctx.globalAlpha = 1;\n    }\n    if (card.symbol === \"rectangle\") this.drawRectangles(ctx, card, pos, scale);\n    if (card.symbol === \"diamond\") this.drawDiamonds(ctx, card, pos, scale);\n    if (card.symbol === \"oval\") this.drawOvals(ctx, card, pos, scale);\n  }\n\n  drawRectangles(ctx, card, pos, scale) {\n    if (card.number === 1) {\n      this.drawRectangle(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 11) / 6\n        },\n        scale\n      );\n    } else if (card.number === 2) {\n      this.drawRectangle(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 7) / 6\n        },\n        scale\n      );\n      this.drawRectangle(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 15) / 6\n        },\n        scale\n      );\n    } else {\n      this.drawRectangle(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale) / 2\n        },\n        scale\n      );\n      this.drawRectangle(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 11) / 6\n        },\n        scale\n      );\n      this.drawRectangle(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 19) / 6\n        },\n        scale\n      );\n    }\n  }\n\n  drawOvals(ctx, card, pos, scale) {\n    if (card.number === 1) {\n      this.drawOval(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 11) / 6\n        },\n        scale\n      );\n    } else if (card.number === 2) {\n      this.drawOval(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 7) / 6\n        },\n        scale\n      );\n      this.drawOval(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 15) / 6\n        },\n        scale\n      );\n    } else {\n      this.drawOval(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale) / 2\n        },\n        scale\n      );\n      this.drawOval(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 11) / 6\n        },\n        scale\n      );\n      this.drawOval(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 19) / 6\n        },\n        scale\n      );\n    }\n  }\n\n  drawDiamonds(ctx, card, pos, scale) {\n    if (card.number === 1) {\n      this.drawDiamond(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 11) / 6\n        },\n        scale\n      );\n    } else if (card.number === 2) {\n      this.drawDiamond(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 7) / 6\n        },\n        scale\n      );\n      this.drawDiamond(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 15) / 6\n        },\n        scale\n      );\n    } else {\n      this.drawDiamond(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale) / 2\n        },\n        scale\n      );\n      this.drawDiamond(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 11) / 6\n        },\n        scale\n      );\n      this.drawDiamond(\n        ctx,\n        card,\n        {\n          x: pos.x + (SYMBOL_SIZE * scale * 2) / 3,\n          y: pos.y + (SYMBOL_SIZE * scale * 19) / 6\n        },\n        scale\n      );\n    }\n  }\n\n  animateDrawCard(ctx, pos, startScale, endScale, color, card, direction) {\n    that = this;\n    if (startScale !== endScale) {\n      this.drawCard(ctx, pos, startScale, color, card);\n      direction === \"increase\" ? (startScale += 0.5) : (startScale -= 0.5);\n      requestAnimationFrame(function() {\n        that.animateDrawCard(\n          ctx,\n          pos,\n          startScale,\n          endScale,\n          color,\n          card,\n          direction\n        );\n      });\n    }\n  }\n}\n\nmodule.exports = Draw;\n","class Game {\n  constructor(){\n  }\n\n  isValidSelection(selection){\n    return(selection.length === 3 && this.validColors(selection) && this.validNumbers(selection) \n      && this.validShading(selection) && this.validSymbols(selection))\n  }\n\n  validColors(selection){\n    testOne = selection[0].color === selection[1].color\n      && selection[0].color === selection[2].color\n    testTwo = selection[0].color !== selection[1].color\n      && selection[0].color !== selection[2].color\n      && selection[1].color !== selection[2].color\n    testThree = selection[0].color !== undefined && selection[1].color !== undefined\n      && selection[2].color !== undefined;\n    return (testOne || testTwo) && testThree;\n  }\n\n  validShading(selection){\n    testOne = selection[0].shading === selection[1].shading\n      && selection[0].shading === selection[2].shading\n    testTwo = selection[0].shading !== selection[1].shading\n      && selection[0].shading !== selection[2].shading\n      && selection[1].shading !== selection[2].shading\n    return testOne || testTwo;\n  }\n\n  validNumbers(selection){\n    testOne = selection[0].number === selection[1].number\n      && selection[0].number === selection[2].number\n    testTwo = selection[0].number !== selection[1].number\n      && selection[0].number !== selection[2].number\n      && selection[1].number !== selection[2].number\n    return testOne || testTwo;\n  }\n\n  validSymbols(selection){\n    testOne = selection[0].symbol === selection[1].symbol\n      && selection[0].symbol === selection[2].symbol\n    testTwo = selection[0].symbol !== selection[1].symbol\n      && selection[0].symbol !== selection[2].symbol\n      && selection[1].symbol !== selection[2].symbol\n    return testOne || testTwo;\n  }\n\n  findAllValidSelections(faceUpCards){\n    validSelections = [];\n    for (let i = 0; i < faceUpCards.length-2; i++) {\n      for (let j = i+1; j < faceUpCards.length-1; j++) {\n        for (let k = j+1; k < faceUpCards.length; k++) {\n          if(i !== j && i !== k && j !== k ){\n              let selection = [faceUpCards[i], faceUpCards[j], faceUpCards[k]];\n              if(this.isValidSelection(selection)){\n                validSelections.push(selection);\n              }\n          } \n        }  \n      }\n    }\n    return validSelections;\n  }\n\n}\n\nmodule.exports = Game;","const Deck = require(\"./deck.js\");\nconst Game = require(\"./game.js\");\nconst Draw = require(\"./draw.js\");\n\nlet showCount = 0;\nlet score = 0;\n\nlet instructionsShowing = false;\n\nlet background = new Image();\nbackground.src = \"./assets/images/escher.png\";\nlet canvasBackground = document.createElement(\"canvas\");\nlet ctxBackground = canvasBackground.getContext(\"2d\");\n\nlet canvas = document.getElementById(\"canvas\");\nlet ctx = canvas.getContext(\"2d\");\ncanvas.width = Math.max(window.innerWidth, 1500);\ncanvas.height = Math.max(window.innerHeight, 800);\n\nconst CARD_SIZE = { x: (100 * 130) / 140, y: (140 * 130) / 140 };\nconst SYMBOL_SIZE = (CARD_SIZE.y * 3) / 14;\nconst IN_SET = { x: Math.max(window.innerWidth - 1040, 0) / 2 + 10, y: 80 };\nconst CARD_MARGIN = { x: 20, y: 30 };\nconst SUBMIT_SIZE = { x: 150, y: 30 };\nconst SCORE_POS = {\n  x: IN_SET.x + 10 + 5 * (CARD_SIZE.x + CARD_MARGIN.x),\n  y: IN_SET.y\n};\nconst SUBMIT_POS = { x: SCORE_POS.x, y: SCORE_POS.y + SUBMIT_SIZE.y + 30 };\nconst DEAL_THREE_MORE_POS = {\n  x: SUBMIT_POS.x,\n  y: SUBMIT_POS.y + SUBMIT_SIZE.y + 30\n};\nconst SHOW_MOVE_POS = {\n  x: DEAL_THREE_MORE_POS.x,\n  y: DEAL_THREE_MORE_POS.y + SUBMIT_SIZE.y + 30\n};\nconst SHOW_VALID_POS = {\n  x: SHOW_MOVE_POS.x,\n  y: SHOW_MOVE_POS.y + SUBMIT_SIZE.y + 30\n};\nconst INSTRUCTIONS_BUTTON_POS = {\n  x: SHOW_VALID_POS.x,\n  y: SHOW_VALID_POS.y + SUBMIT_SIZE.y + 30\n};\nconst NEW_GAME_POS = {\n  x: INSTRUCTIONS_BUTTON_POS.x,\n  y: INSTRUCTIONS_BUTTON_POS.y + SUBMIT_SIZE.y + 30\n};\nconst INSTRUCTIONS_POS = {\n  x: IN_SET.x + 2 * CARD_SIZE.x + 1.5 * CARD_MARGIN.x,\n  y: 51\n};\nconst INSTRUCTIONS_SIZE = { x: 600, y: 650 };\nconst CLOSE_INSTRUCTIONS_POS = {\n  x: INSTRUCTIONS_POS.x + INSTRUCTIONS_SIZE.x - 40,\n  y: 60\n};\nconst CLOSE_INSTRUCTIONS_SIZE = { x: 20, y: 20 };\nconst OUT_OF_PLAY_POS = {\n  x: SUBMIT_POS.x + SUBMIT_SIZE.x + CARD_MARGIN.x,\n  y: IN_SET.y\n};\nconst YOU_WIN_POS = { x: 195 + IN_SET.x, y: 250 };\n// const YOU_WIN_SIZE = {x: 300, y: 300};\n\nlet canvasPattern = document.createElement(\"canvas\");\nlet ctxPattern = canvasPattern.getContext(\"2d\");\ncanvasPattern.width = 10;\ncanvasPattern.height = 10;\n\nctxPattern.beginPath();\nctxPattern.moveTo(10, 10);\nctxPattern.lineTo(0, 0);\nctxPattern.closePath();\n\ndeck = new Deck();\ngame = new Game();\ndraw = new Draw(ctxPattern, background, canvasPattern);\n\ncanvas.addEventListener(\"click\", handleClick);\n\nfunction handleClick(event) {\n  cx = event.pageX;\n  cy = event.pageY;\n  if (instructionsShowing) {\n    handleCloseInstructions(cx, cy);\n  } else if (score < 10) {\n    handleShowInstructions(cx, cy);\n    handleSelect(cx, cy);\n    handleSubmit(cx, cy);\n    handleDealThreeMore(cx, cy);\n    handleShowMove(cx, cy);\n    handleNewGame(cx, cy);\n  } else {\n    handleNewGame(cx, cy);\n  }\n}\n\nindexToPos = i => {\n  return {\n    x: IN_SET.x + 10 + Math.floor(i / 3) * (CARD_SIZE.x + CARD_MARGIN.x),\n    y: IN_SET.y + (i % 3) * (CARD_SIZE.y + CARD_MARGIN.y)\n  };\n};\n\nhandleSelect = (cx, cy) => {\n  for (let i = 0; i < 15; i++) {\n    const pos = indexToPos(i);\n    if (\n      cx >= pos.x &&\n      cx <= pos.x + CARD_SIZE.x &&\n      cy >= pos.y &&\n      cy <= pos.y + CARD_SIZE.y\n    ) {\n      let card = deck.faceUpCards[i];\n      if (card && card.symbol !== undefined) {\n        if (deck.selected.includes(card)) {\n          deck.selected.splice(deck.selected.indexOf(card), 1);\n          renderBoard();\n          highlightSelected();\n        } else {\n          deck.selected.push(deck.faceUpCards[i]);\n          renderBoard();\n          highlightSelected();\n        }\n      }\n      if (deck.selected.length > 3) {\n        const idx = deck.faceUpCards.indexOf(deck.selected[2]);\n        const oldPos = indexToPos(idx);\n        deck.selected.splice(2, 1);\n        renderBoard();\n        highlightSelected();\n      }\n      break;\n    }\n  }\n};\n\nhandleSubmit = (cx, cy) => {\n  if (\n    cx >= SUBMIT_POS.x &&\n    cx <= SUBMIT_POS.x + SUBMIT_SIZE.x &&\n    cy >= SUBMIT_POS.y &&\n    cy <= SUBMIT_POS.y + SUBMIT_SIZE.y\n  ) {\n    draw.drawButton(\n      ctx,\n      SUBMIT_POS,\n      \"Submit\",\n      { x: 42, y: 22 },\n      \"#d2cecf\",\n      SUBMIT_SIZE\n    );\n    window.setTimeout(function() {\n      draw.drawButton(\n        ctx,\n        SUBMIT_POS,\n        \"Submit\",\n        { x: 42, y: 22 },\n        \"gray\",\n        SUBMIT_SIZE\n      );\n    }, 100);\n    if (deck.selected.length === 3) {\n      if (game.isValidSelection(deck.selected)) {\n        deck.selected.forEach(card => {\n          const idx = deck.removeCard(card);\n          const pos = indexToPos(idx);\n          draw.animateDrawCard(ctx, pos, 1, 0, \"white\", card, \"decrease\");\n          setTimeout(function() {\n            draw.animateDrawCard(\n              ctx,\n              pos,\n              0,\n              1,\n              \"white\",\n              deck.faceUpCards[idx],\n              \"increase\"\n            );\n          }, 30);\n\n          setTimeout(function() {\n            afterCardAnimation(card, pos, 1);\n          }, 55);\n        });\n        deck.selected = [];\n\n        renderBoard();\n        score += 1;\n        drawOutOfPlayCards();\n\n        showNumberOfMoves();\n        showScore();\n        setTimeout(function() {\n          if (score === 10) showWin();\n        }, 100);\n      } else {\n        deck.selected = [];\n        renderBoard();\n      }\n    }\n  }\n};\n\nshowWin = () => {\n  ctx.fillStyle = \"#ebad07\";\n  ctx.font = \"100px Georgia\";\n\n  ctx.fillText(\"You\", YOU_WIN_POS.x, YOU_WIN_POS.y);\n  ctx.fillText(\"win!\", YOU_WIN_POS.x - 5, YOU_WIN_POS.y + 100);\n  ctx.font = \"20px Georgia\";\n  ctx.fillText(\n    \"Click New Game to start a new game!\",\n    YOU_WIN_POS.x - 80,\n    YOU_WIN_POS.y + 150\n  );\n};\n\nhighlightCard = (pos, color) => {\n  ctx.globalAlpha = 0.3;\n  draw.drawRoundedRec(\n    ctx,\n    pos,\n    CARD_SIZE.x,\n    CARD_SIZE.y,\n    CARD_SIZE.x / 10,\n    color\n  );\n\n  ctx.globalAlpha = 1;\n};\n\nhighlightSelected = () => {\n  let color = game.isValidSelection(deck.selected) ? \"#07eb1d\" : \"yellow\";\n  deck.selected.forEach(card => {\n    idx = deck.faceUpCards.indexOf(card);\n    const pos = indexToPos(idx);\n    highlightCard(pos, color);\n  });\n};\n\nhandleShowInstructions = (cx, cy) => {\n  if (\n    cx >= INSTRUCTIONS_BUTTON_POS.x &&\n    cx <= INSTRUCTIONS_BUTTON_POS.x + SUBMIT_SIZE.x &&\n    cy >= INSTRUCTIONS_BUTTON_POS.y &&\n    cy <= INSTRUCTIONS_BUTTON_POS.y + SUBMIT_SIZE.y\n  ) {\n    draw.drawButton(\n      ctx,\n      INSTRUCTIONS_BUTTON_POS,\n      \"Instructions\",\n      { x: 23, y: 21 },\n      \"#d2cecf\",\n      SUBMIT_SIZE\n    );\n    instructionsShowing = true;\n    setTimeout(function() {\n      draw.drawInstructions(\n        ctx,\n        CARD_MARGIN,\n        INSTRUCTIONS_POS,\n        CLOSE_INSTRUCTIONS_POS,\n        CLOSE_INSTRUCTIONS_SIZE,\n        INSTRUCTIONS_BUTTON_POS,\n        INSTRUCTIONS_SIZE,\n        SUBMIT_SIZE\n      );\n    }, 100);\n    const navLinks = document.getElementById(\"links\");\n    const card_img = document.getElementById(\"card\");\n    card_img.classList.add(\"dim\");\n    navLinks.classList.add(\"dim\");\n  }\n};\n\nhandleCloseInstructions = (cx, cy) => {\n  if (\n    (cx >= CLOSE_INSTRUCTIONS_POS.x &&\n      cx <= CLOSE_INSTRUCTIONS_POS.x + CLOSE_INSTRUCTIONS_SIZE.x &&\n      cy >= CLOSE_INSTRUCTIONS_POS.y &&\n      cy <= CLOSE_INSTRUCTIONS_POS.y + CLOSE_INSTRUCTIONS_SIZE.y) ||\n    cx < INSTRUCTIONS_POS.x ||\n    cx > INSTRUCTIONS_POS.x + INSTRUCTIONS_SIZE.x ||\n    cy < INSTRUCTIONS_POS.y ||\n    cy > INSTRUCTIONS_POS.y + INSTRUCTIONS_SIZE.y\n  ) {\n    const navLinks = document.getElementById(\"links\");\n    const card_img = document.getElementById(\"card\");\n    card_img.classList.remove(\"dim\");\n    navLinks.classList.remove(\"dim\");\n\n    instructionsShowing = false;\n    ctx.beginPath();\n    renderBackground();\n    renderBoard();\n    highlightSelected();\n    drawOutOfPlayCards();\n  }\n};\n\nafterCardAnimation = (card, pos, scale) => {\n  draw.drawSymbols(ctx, card, pos, scale, background);\n  renderBackground();\n  renderBoard();\n  drawOutOfPlayCards();\n  highlightSelected();\n};\n\nhandleDealThreeMore = (cx, cy) => {\n  if (\n    cx >= DEAL_THREE_MORE_POS.x &&\n    cx <= DEAL_THREE_MORE_POS.x + SUBMIT_SIZE.x &&\n    cy >= DEAL_THREE_MORE_POS.y &&\n    cy <= DEAL_THREE_MORE_POS.y + SUBMIT_SIZE.y\n  ) {\n    draw.drawButton(\n      ctx,\n      DEAL_THREE_MORE_POS,\n      \"Deal Three More\",\n      { x: 5, y: 21 },\n      \"#d2cecf\",\n      SUBMIT_SIZE\n    );\n\n    setTimeout(function() {\n      draw.drawButton(\n        ctx,\n        DEAL_THREE_MORE_POS,\n        \"Deal Three More\",\n        { x: 5, y: 21 },\n        \"gray\",\n        SUBMIT_SIZE\n      );\n    }, 100);\n\n    if (deck.faceUpCount <= 12) {\n      for (let i = 0; i < 15; i++) {\n        if (deck.faceUpCards[i].symbol === undefined) {\n          const pos = indexToPos(i);\n\n          let prevCard = deck.faceUpCards[i];\n          let card = deck.dealCard(i);\n          draw.animateDrawCard(ctx, pos, 1, 0, \"white\", prevCard, \"decrease\");\n          setTimeout(function() {\n            draw.animateDrawCard(ctx, pos, 0, 1, \"white\", card, \"increase\");\n          }, 30);\n          setTimeout(function() {\n            afterCardAnimation(card, pos, 1);\n          }, 55);\n        }\n      }\n      showNumberOfMoves();\n    }\n  }\n};\n\nhandleShowMove = (cx, cy) => {\n  if (\n    cx >= SHOW_MOVE_POS.x &&\n    cx <= SHOW_MOVE_POS.x + SUBMIT_SIZE.x &&\n    cy >= SHOW_MOVE_POS.y &&\n    cy <= SHOW_MOVE_POS.y + SUBMIT_SIZE.y\n  ) {\n    draw.drawButton(\n      ctx,\n      SHOW_MOVE_POS,\n      \"Show Move\",\n      { x: 25, y: 21 },\n      \"#d2cecf\",\n      SUBMIT_SIZE\n    );\n    setTimeout(function() {\n      draw.drawButton(\n        ctx,\n        SHOW_MOVE_POS,\n        \"Show Move\",\n        { x: 25, y: 21 },\n        \"gray\",\n        SUBMIT_SIZE\n      );\n    }, 100);\n    renderBoard();\n    let selections = game.findAllValidSelections(deck.faceUpCards);\n    if (selections.length > 0) {\n      showCount += 1;\n      selectIndex = showCount % selections.length;\n      selections[selectIndex].forEach(card => {\n        idx = deck.faceUpCards.indexOf(card);\n        const pos = indexToPos(idx);\n        // highlightCard(pos);\n      });\n      deck.selected = selections[selectIndex];\n      highlightSelected();\n    }\n  }\n};\n\nrenderBoard = () => {\n  for (let i = 0; i < 15; i++) {\n    const pos = indexToPos(i);\n    draw.drawCard(\n      ctx,\n      pos,\n      1,\n      \"white\",\n      deck.faceUpCards[i],\n      CARD_SIZE,\n      background\n    );\n  }\n};\n\nhandleNewGame = (cx, cy) => {\n  if (\n    cx >= NEW_GAME_POS.x &&\n    cx <= NEW_GAME_POS.x + SUBMIT_SIZE.x &&\n    cy >= NEW_GAME_POS.y &&\n    cy <= NEW_GAME_POS.y + SUBMIT_SIZE.y\n  ) {\n    draw.drawButton(\n      ctx,\n      NEW_GAME_POS,\n      \"New Game\",\n      { x: 30, y: 21 },\n      \"#d2cecf\",\n      SUBMIT_SIZE\n    );\n    window.setTimeout(function() {\n      draw.drawButton(\n        ctx,\n        NEW_GAME_POS,\n        \"New Game\",\n        { x: 30, y: 21 },\n        \"gray\",\n        SUBMIT_SIZE\n      );\n      newGame();\n      showNumberOfMoves();\n    }, 100);\n  }\n};\n\nnewGame = () => {\n  score = 0;\n  renderBackground();\n  deck = new Deck();\n  game = new Game();\n  deck.createDeck();\n  for (let i = 0; i < 12; i++) {\n    deck.dealCard(i);\n  }\n  for (let j = 12; j < 15; j++) {\n    deck.dealNullCard(j);\n  }\n  renderBoard();\n};\n\nrenderBackground = () => {\n  ctx.fillStyle = \"#e59fb8\";\n  ctx.fillRect(0, 0, canvas.width, 50);\n  ctx.strokeStyle = \"#e59fb8\";\n\n  ctx.fillRect(0, 560, canvas.width, window.innerHeight);\n\n  ctx.fillStyle = \"#f8cdbf\";\n  ctx.fillRect(0, 50, canvas.width, 520);\n  ctx.fillStyle = \"#BDF3FF\";\n  // ctx.fillRect(IN_SET.x/2, IN_SET.y-15, OUT_OF_PLAY_POS.x+(1/3)*CARD_SIZE.x*6+(1/3)*CARD_MARGIN.x*4+IN_SET.x/2+20, 3*CARD_SIZE.y+2*CARD_MARGIN.y+40)\n\n  ctx.fillRect(\n    IN_SET.x,\n    IN_SET.y - 15,\n    1040,\n    3 * CARD_SIZE.y + 2 * CARD_MARGIN.y + 40\n  );\n  ctx.rect(\n    IN_SET.x,\n    IN_SET.y - 15,\n    1040,\n    3 * CARD_SIZE.y + 2 * CARD_MARGIN.y + 40\n  );\n  ctx.stroke();\n\n  ctx.fillStyle = \"#BDF3FF\";\n  ctx.font = \"60px Georgia\";\n  ctx.fillText(\"SET\", 25, 50);\n\n  ctx.font = \"40px Georgia\";\n  ctx.fillText(\"Najja Kossally\", 325, 50);\n  drawButtons();\n};\n\nwindow.onload = function() {\n  newGame();\n  showNumberOfMoves();\n};\n\nshowNumberOfMoves = () => {\n  draw.drawButton(\n    ctx,\n    SHOW_VALID_POS,\n    `Valid Moves: ${game.findAllValidSelections(deck.faceUpCards).length}`,\n    { x: 13, y: 22 },\n    \"gray\",\n    SUBMIT_SIZE\n  );\n};\n\ndrawOutOfPlayCards = () => {\n  for (let i = 0; i < deck.outOfPlayCards.length; i++) {\n    scale = 1 / 3;\n    let column =\n      Math.floor(i / 15) * ((CARD_SIZE.x + CARD_MARGIN.x) * scale * 3 + 5);\n    let pos = {\n      x:\n        OUT_OF_PLAY_POS.x +\n        (i % 3) * (CARD_SIZE.x + CARD_MARGIN.x) * scale +\n        column,\n      y:\n        OUT_OF_PLAY_POS.y +\n        (Math.floor(i / 3) % 5) * (CARD_SIZE.y + CARD_MARGIN.y) * scale\n    };\n    draw.drawCard(\n      ctx,\n      pos,\n      scale,\n      \"white\",\n      deck.outOfPlayCards[i],\n      CARD_SIZE,\n      background\n    );\n  }\n};\n\nshowScore = () => {\n  draw.drawButton(\n    ctx,\n    SCORE_POS,\n    `Score: ${score}`,\n    { x: 42, y: 22 },\n    \"gray\",\n    SUBMIT_SIZE\n  );\n};\n\ndrawButtons = () => {\n  showScore();\n  draw.drawButton(\n    ctx,\n    SUBMIT_POS,\n    \"Submit\",\n    { x: 42, y: 22 },\n    \"gray\",\n    SUBMIT_SIZE\n  );\n  draw.drawButton(\n    ctx,\n    DEAL_THREE_MORE_POS,\n    \"Deal Three More\",\n    { x: 5, y: 21 },\n    \"gray\",\n    SUBMIT_SIZE\n  );\n  draw.drawButton(\n    ctx,\n    NEW_GAME_POS,\n    \"New Game\",\n    { x: 30, y: 21 },\n    \"gray\",\n    SUBMIT_SIZE\n  );\n  draw.drawButton(\n    ctx,\n    INSTRUCTIONS_BUTTON_POS,\n    \"Instructions\",\n    { x: 23, y: 21 },\n    \"gray\",\n    SUBMIT_SIZE\n  );\n  draw.drawButton(\n    ctx,\n    SHOW_MOVE_POS,\n    \"Show Move\",\n    { x: 25, y: 21 },\n    \"gray\",\n    SUBMIT_SIZE\n  );\n  showNumberOfMoves();\n};\n"],"sourceRoot":""}