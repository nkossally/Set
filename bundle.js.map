{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/deck.js","webpack:///./lib/game.js","webpack:///./lib/main.js"],"names":["COLORS","SYMBOL","NUMBER","SHADING","Deck","pile","faceUpCards","faceUpCount","selected","outOfPlayCards","dealCard","bind","createDeck","removeCard","dealNullCard","color","symbol","number","shading","i","length","j","k","l","push","card","idx","idxPile","Math","floor","random","splice","nullCard","undefined","indexOf","module","exports","Game","selection","validColors","validNumbers","validShading","validSymbols","testOne","testTwo","testThree","validSelections","isValidSelection","require","canvas","document","getElementById","ctx","getContext","width","window","innerWidth","height","fillStyle","fillRect","CARD_SIZE","x","y","SYMBOL_SIZE","IN_SET","CARD_MARGIN","SUBMIT_SIZE","SUBMIT_POS","DEAL_THREE_MORE_POS","SHOW_VALID_POS","NEW_GAME_POS","OUT_OF_PLAY_POS","deck","game","canvasPattern","createElement","ctxPattern","beginPath","moveTo","lineTo","closePath","addEventListener","handleClick","drawCard","pos","scale","drawDiamond","colorSymbols","drawOval","ellipse","PI","drawRectangle","rect","strokeStyle","stroke","fill","createPattern","drawSymbols","drawNullCard","drawRectangles","drawDiamonds","drawOvals","event","cx","pageX","cy","pageY","handleSelect","handleSubmit","handleDealThreeMore","handleShowMove","handleNewGame","includes","clearRect","highlightCard","oldPos","forEach","drawOutOfPlayCard","renderBoard","globalAlpha","font","fillText","selections","findAllValidSelections","newGame","onload"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/main.js\");\n","const COLORS = ['#fb4c4d', '#0ef691', '#62a6e0'];\nconst SYMBOL = ['oval', 'rectangle', 'diamond'];\nconst NUMBER = [1, 2, 3];\nconst SHADING = ['solid', 'open', 'striped'];\n\nclass Deck {\n  constructor(){\n    this.pile = [];\n    this.faceUpCards = [];\n    this.faceUpCount = 0;\n    this.selected = [];\n    this.outOfPlayCards = [];\n    this.dealCard = this.dealCard.bind(this);\n    this.createDeck = this.createDeck.bind(this);\n    this.removeCard = this.removeCard.bind(this);\n    this.dealNullCard = this.dealNullCard.bind(this);\n  }\n\n  card(color, symbol, number, shading){\n    return {color: color, symbol: symbol, number: number, shading: shading};\n  }\n\n  createDeck(){\n    for (let i = 0; i < COLORS.length; i++) {\n      for (let j = 0; j < SYMBOL.length; j++) {\n        for (let k = 0; k < NUMBER.length; k++) {\n          for (let l = 0; l < SHADING.length; l++) {\n            this.pile.push(this.card(COLORS[i], SYMBOL[j], NUMBER[k], SHADING[l]));\n          }          \n        } \n      } \n    }\n  }  \n\n  dealCard(idx){\n    // if(this.faceUpCards[idx] && this.faceUpCards[idx].symbol !== undefined){\n    //     return this.faceUpCards[idx];\n    // }\n    if(this.pile.length > 0){\n      idxPile = Math.floor(Math.random()*(this.pile.length-1));\n      this.faceUpCards[idx]=(this.pile[idxPile]);\n      this.faceUpCount += 1;\n      this.pile.splice(idxPile, 1);\n      return this.faceUpCards[idx];\n    } else {\n      return this.dealNullCard(idx);\n    }\n  }\n\n  dealNullCard(idx){\n    let nullCard =  this.card(undefined, undefined, undefined, undefined);\n    this.faceUpCards[idx] = nullCard;\n    return nullCard;\n  }\n\n  removeCard(card){\n    this.outOfPlayCards.push(card);\n    idx = this.faceUpCards.indexOf(card);\n    this.faceUpCount -= 1;\n    this.dealCard(idx);\n  }\n\n\n  \n}\n\nmodule.exports = Deck;","class Game {\n  constructor(){\n  }\n\n  isValidSelection(selection){\n    return(selection.length === 3 && this.validColors(selection) && this.validNumbers(selection) \n      && this.validShading(selection) && this.validSymbols(selection))\n  }\n\n  validColors(selection){\n    testOne = selection[0].color === selection[1].color\n      && selection[0].color === selection[2].color\n    testTwo = selection[0].color !== selection[1].color\n      && selection[0].color !== selection[2].color\n      && selection[1].color !== selection[2].color\n    testThree = selection[0].color !== undefined && selection[1].color !== undefined\n      && selection[2].color !== undefined;\n    return (testOne || testTwo) && testThree;\n  }\n\n  validShading(selection){\n    testOne = selection[0].shading === selection[1].shading\n      && selection[0].shading === selection[2].shading\n    testTwo = selection[0].shading !== selection[1].shading\n      && selection[0].shading !== selection[2].shading\n      && selection[1].shading !== selection[2].shading\n    return testOne || testTwo;\n  }\n\n  validNumbers(selection){\n    testOne = selection[0].number === selection[1].number\n      && selection[0].number === selection[2].number\n    testTwo = selection[0].number !== selection[1].number\n      && selection[0].number !== selection[2].number\n      && selection[1].number !== selection[2].number\n    return testOne || testTwo;\n  }\n\n  validSymbols(selection){\n    testOne = selection[0].symbol === selection[1].symbol\n      && selection[0].symbol === selection[2].symbol\n    testTwo = selection[0].symbol !== selection[1].symbol\n      && selection[0].symbol !== selection[2].symbol\n      && selection[1].symbol !== selection[2].symbol\n    return testOne || testTwo;\n  }\n\n  findAllValidSelections(faceUpCards){\n    validSelections = [];\n    for (let i = 0; i < faceUpCards.length-2; i++) {\n      for (let j = i+1; j < faceUpCards.length-1; j++) {\n        for (let k = j+1; k < faceUpCards.length; k++) {\n          if(i !== j && i !== k && j !== k ){\n              let selection = [faceUpCards[i], faceUpCards[j], faceUpCards[k]];\n              if(this.isValidSelection(selection)){\n                validSelections.push(selection);\n              }\n          } \n        }  \n      }\n    }\n    return validSelections;\n  }\n\n}\n\nmodule.exports = Game;","const Deck = require('./deck.js');\nconst Game = require('./game.js');\n\n\n\n  let canvas = document.getElementById(\"canvas\");\n  let ctx = canvas.getContext(\"2d\");\n  canvas.width = window.innerWidth;\n  canvas.height = 4790;\n  ctx.fillStyle = \"#06e4f8\";\n  ctx.fillRect(0, 0, canvas.width, canvas.height);  \n\n  const CARD_SIZE = {x: 100, y: 140};\n  const SYMBOL_SIZE = CARD_SIZE.y*3/14;\n  const IN_SET = {x: 10, y: 10};\n  const CARD_MARGIN = {x: 20, y: 30};\n  // const RIGHT_SIDE = {x: IN_SET.x+5*(CARD_SIZE.x+CARD_MARGIN.x), y: IN_SET.y};\n  const SUBMIT_SIZE = {x: 150, y: 30};\n  const SUBMIT_POS = {x: IN_SET.x+5*(CARD_SIZE.x+CARD_MARGIN.x), y: IN_SET.y};\n  const DEAL_THREE_MORE_POS = {x: SUBMIT_POS.x, y: SUBMIT_POS.y + SUBMIT_SIZE.y+50};\n  const SHOW_VALID_POS = {x: DEAL_THREE_MORE_POS.x, y: DEAL_THREE_MORE_POS.y+SUBMIT_SIZE.y+50};\n  const NEW_GAME_POS = {x: SHOW_VALID_POS.x, y: SHOW_VALID_POS.y + SUBMIT_SIZE.y+50};\n  const OUT_OF_PLAY_POS = {x: SUBMIT_POS.x+SUBMIT_SIZE.x+CARD_MARGIN.x, y: IN_SET.y};\n\n\n  deck = new Deck;\n  game = new Game;\n  deck.createDeck();\n\nlet canvasPattern = document.createElement(\"canvas\");\nlet ctxPattern = canvasPattern.getContext(\"2d\");\ncanvasPattern.width = 10;\ncanvasPattern.height = 10;\n\nctxPattern.beginPath();\nctxPattern.moveTo(10, 10);\nctxPattern.lineTo(0, 0);\nctxPattern.closePath();\n\ncanvas.addEventListener(\"click\", handleClick);\n\n\n\n\n\n  drawCard=( pos, scale)=>{\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(pos.x, pos.y, CARD_SIZE.x*scale, CARD_SIZE.y*scale);\n  }\n\n drawDiamond=(card, pos, scale)=>{\n  ctx.beginPath();\n  ctx.moveTo(pos.x, pos.y+SYMBOL_SIZE*scale/2);\n  ctx.lineTo(pos.x+SYMBOL_SIZE*scale, pos.y);\n  ctx.lineTo(pos.x+2*SYMBOL_SIZE*scale, pos.y+SYMBOL_SIZE*scale/2);\n  ctx.lineTo(pos.x+SYMBOL_SIZE*scale, pos.y+SYMBOL_SIZE*scale);\n  ctx.lineTo(pos.x, pos.y+SYMBOL_SIZE*scale/2);\n  ctx.closePath();\n  colorSymbols(card);\n}\n\n drawOval=(card, pos, scale)=>{\n  ctx.beginPath();\n  ctx.ellipse(pos.x+SYMBOL_SIZE*scale, pos.y+SYMBOL_SIZE*scale/2, SYMBOL_SIZE*scale, SYMBOL_SIZE*scale/2, 0, 0, 2*Math.PI);\n  ctx.closePath();\n  colorSymbols(card);\n}\n\ndrawRectangle=( card, pos, scale)=>{\n  ctx.beginPath();\n  ctx.rect(pos.x, pos.y, 2*SYMBOL_SIZE*scale, SYMBOL_SIZE*scale);\n  ctx.closePath();\n  colorSymbols(card);\n}\n\ncolorSymbols=(card)=>{\n  ctx.fillStyle = card.color;\n  ctx.strokeStyle = card.color\n  if(card.shading === \"open\") ctx.stroke();\n  if(card.shading === \"solid\") ctx.fill();\n  if(card.shading === \"striped\") {\n    ctxPattern.strokeStyle = card.color;\n    ctxPattern.stroke();\n    ctx.fillStyle = ctx.createPattern(canvasPattern,\"repeat\");\n    ctx.stroke();\n    ctx.fill(); \n  }\n}\n\ndrawSymbols=(card, pos, scale)=>{\n  if(card.symbol === undefined) drawNullCard(pos, scale);\n  if(card.symbol === \"rectangle\") drawRectangles(card, pos, scale);\n  if(card.symbol === \"diamond\") drawDiamonds(card, pos, scale);\n  if(card.symbol === \"oval\") drawOvals(card, pos, scale);\n}\n\ndrawNullCard=(pos, scale)=>{\n\n}\n\ndrawRectangles=(card, pos, scale)=>{\n  if(card.number === 1){\n    drawRectangle(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*11/6}, scale)\n  } else if (card.number === 2){\n    drawRectangle(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*7/6}, scale)\n    drawRectangle(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*15/6}, scale)\n  } else {\n    drawRectangle(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale/2}, scale)\n    drawRectangle(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*11/6}, scale)\n    drawRectangle(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*19/6}, scale)\n  }\n}\n\ndrawOvals=(card, pos, scale)=>{\n  if(card.number === 1){\n    drawOval(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*11/6}, scale)\n  } else if (card.number === 2){\n    drawOval(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*7/6}, scale)\n    drawOval(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*15/6}, scale)\n  } else {\n    drawOval(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale/2}, scale)\n    drawOval(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*11/6}, scale)\n    drawOval(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*19/6}, scale)\n  }\n}\n\ndrawDiamonds=(card, pos, scale)=>{\n  if(card.number === 1){\n    drawDiamond(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*11/6}, scale)\n  } else if (card.number === 2){\n    drawDiamond(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*7/6}, scale)\n    drawDiamond(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*15/6}, scale)\n  } else {\n    drawDiamond(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale/2}, scale)\n    drawDiamond(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*11/6}, scale)\n    drawDiamond(card, {x: pos.x+SYMBOL_SIZE*scale*2/3, y: pos.y+SYMBOL_SIZE*scale*19/6}, scale)\n  }\n}\n\nfunction handleClick(event){\n  cx = event.pageX;\n  cy = event.pageY;\n\n  handleSelect(cx, cy);\n  handleSubmit(cx, cy);\n  handleDealThreeMore(cx, cy);\n  handleShowMove(cx, cy);\n  handleNewGame(cx, cy);\n}\n\nhandleSelect=(cx, cy)=>{\n  for (let i = 0; i < 15; i++) {\n    const pos = {x: IN_SET.x+Math.floor(i/3)*(CARD_SIZE.x+CARD_MARGIN.x), y: IN_SET.y+(i%3)*(CARD_SIZE.y+CARD_MARGIN.y)};\n    if(cx >= pos.x && cx <= pos.x + CARD_SIZE.x &&\n      cy >= pos.y && cy <= pos.y+CARD_SIZE.y){\n      let card = deck.faceUpCards[i];\n      if (card){\n        if(deck.selected.includes(card)){\n          deck.selected.splice(deck.selected.indexOf(card), 1);\n          ctx.clearRect(pos.x, pos.y, CARD_SIZE.x, CARD_SIZE.y);\n          drawSymbols(card, pos);\n        } else {\n          deck.selected.push(deck.faceUpCards[i]);\n          highlightCard(pos);\n        }\n      } \n      if (deck.selected.length > 3) {\n        const idx = deck.faceUpCards.indexOf(deck.selected[2]);\n        const oldPos = {x: IN_SET.x+Math.floor(idx/3)*(CARD_SIZE.x+CARD_MARGIN.x), y: IN_SET.y+(idx%3)*(CARD_SIZE.y+CARD_MARGIN.y)};\n        deck.selected.splice(2, 1);\n        ctx.clearRect(oldPos.x, oldPos.y, CARD_SIZE.x, CARD_SIZE.y);\n        drawSymbols(deck.faceUpCards[idx], oldPos);\n      }\n      break;\n    }\n  }\n}\n\nhandleSubmit=(cx, cy)=>{\n  if(cx >= SUBMIT_POS.x && cx <= SUBMIT_POS.x + SUBMIT_SIZE.x &&\n    cy >= SUBMIT_POS.y && cy <= SUBMIT_POS.y+SUBMIT_SIZE.y){\n    if(deck.selected.length ===3){\n      if(game.isValidSelection(deck.selected)){\n        deck.selected.forEach(card=> {\n          deck.removeCard(card);\n          drawOutOfPlayCard();\n        });\n        renderBoard();\n      } \n    }\n  }\n}\n\nhighlightCard=(pos)=>{\n  ctx.globalAlpha = .5;\n  ctx.fillStyle = \"yellow\";\n  ctx.fillRect(pos.x, pos.y, CARD_SIZE.x, CARD_SIZE.y );\n  ctx.globalAlpha = 1;\n\n}\n\nctx.fillStyle = \"gray\";\nctx.fillRect(SUBMIT_POS.x, SUBMIT_POS.y, SUBMIT_SIZE.x, SUBMIT_SIZE.y);\nctx.fillStyle = \"white\";\nctx.font = \"20px Georgia\";\nctx.fillText(\"Submit\", SUBMIT_POS.x, SUBMIT_POS.y+30);\n\nctx.fillStyle = \"gray\";\nctx.fillRect(DEAL_THREE_MORE_POS.x, DEAL_THREE_MORE_POS.y, SUBMIT_SIZE.x, SUBMIT_SIZE.y);\nctx.fillStyle = \"white\";\nctx.font = \"20px Georgia\";\nctx.fillText(\"Deal Three More\", DEAL_THREE_MORE_POS.x, DEAL_THREE_MORE_POS.y+30);\n\nhandleDealThreeMore=(cx, cy)=>{\n  if(cx >= DEAL_THREE_MORE_POS.x && cx <= DEAL_THREE_MORE_POS.x + SUBMIT_SIZE.x &&\n    cy >= DEAL_THREE_MORE_POS.y && cy <= DEAL_THREE_MORE_POS.y+SUBMIT_SIZE.y){\n    for (let i = 12; i < 15; i++) {\n      const pos = {x: IN_SET.x+Math.floor(i/3)*(CARD_SIZE.x+CARD_MARGIN.x), y: IN_SET.y+(i%3)*(CARD_SIZE.y+CARD_MARGIN.y)};\n        drawCard(pos, 1);\n        drawSymbols(deck.dealCard(i), pos, 1); \n    }\n  }\n}\n\nhandleShowMove=(cx, cy)=>{\n  if(cx >= SHOW_VALID_POS.x && cx <= SHOW_VALID_POS.x + SUBMIT_SIZE.x &&\n    cy >= SHOW_VALID_POS.y && cy <= SHOW_VALID_POS.y+SUBMIT_SIZE.y){\n      let selections = game.findAllValidSelections(deck.faceUpCards);\n      if(selections.length > 0){\n        selections[0].forEach(card =>{\n          idx = deck.faceUpCards.indexOf(card);\n          const pos = {x: IN_SET.x+Math.floor(idx/3)*(CARD_SIZE.x+CARD_MARGIN.x), y: IN_SET.y+(idx%3)*(CARD_SIZE.y+CARD_MARGIN.y)};\n          highlightCard(pos);\n        })\n        deck.selected = selections[0];\n      }\n      \n    }\n  }\n\n\nctx.fillStyle = \"gray\";\nctx.fillRect(SHOW_VALID_POS.x, SHOW_VALID_POS.y, SUBMIT_SIZE.x, SUBMIT_SIZE.y);\nctx.fillStyle = \"white\";\nctx.font = \"20px Georgia\";\nctx.fillText(\"Show Move\", SHOW_VALID_POS.x, SHOW_VALID_POS.y+30);\n\nrenderBoard=()=>{\n  for (let i = 0; i < 15; i++) {\n    const pos = {x: IN_SET.x+Math.floor(i/3)*(CARD_SIZE.x+CARD_MARGIN.x), y: IN_SET.y+(i%3)*(CARD_SIZE.y+CARD_MARGIN.y)};\n    drawCard(pos, 1);\n    drawSymbols(deck.faceUpCards[i], pos, 1);\n  }\n}\n\nhandleNewGame=(cx, cy)=>{\n  if(cx >= NEW_GAME_POS.x && cx <= NEW_GAME_POS.x + SUBMIT_SIZE.x &&\n    cy >= NEW_GAME_POS.y && cy <= NEW_GAME_POS.y+SUBMIT_SIZE.y){\n      newGame();\n  }\n}\n\nnewGame=()=>{\n  deck = new Deck;\n  game = new Game;\n  deck.createDeck();\n  for (let i = 0; i < 12; i++) {\n    deck.dealCard(i);\n  }\n  for (let j = 12; j < 15; j++) {\n    deck.dealNullCard(j);\n  }\n  renderBoard();\n}\n\nwindow.onload = function() {\n  newGame();\n}\n\n\nctx.fillStyle = \"gray\";\nctx.fillRect(NEW_GAME_POS.x, NEW_GAME_POS.y, SUBMIT_SIZE.x, SUBMIT_SIZE.y);\nctx.fillStyle = \"white\";\nctx.font = \"20px Georgia\";\nctx.fillText(\"New Game\", NEW_GAME_POS.x, NEW_GAME_POS.y+30);\n\ndrawOutOfPlayCard=()=>{\n  scale = 1/3;\n  idx = deck.outOfPlayCards.length - 1;\n  let pos = {x: OUT_OF_PLAY_POS.x+(idx%3)*(CARD_SIZE.x+CARD_MARGIN.x)*scale, y: OUT_OF_PLAY_POS.y+Math.floor(idx/3)*(CARD_SIZE.y+CARD_MARGIN.y)*scale}\n  drawCard(pos, scale);\n  drawSymbols(deck.outOfPlayCards[idx] , pos, scale);\n}\n\n\n\n// for (let i = 0; i < 12; i++) {\n//   const pos = {x: IN_SET.x+Math.floor(i/3)*(CARD_SIZE.x+CARD_MARGIN.x), y: IN_SET.y+(i%3)*(CARD_SIZE.y+CARD_MARGIN.y)};\n//   drawCard(pos, 1);\n//   drawSymbols(deck.dealCard(i), pos, 1);\n// }\n\n// for (let i = 12; i < 15; i++) {\n//   const pos = {x: IN_SET.x+Math.floor(i/3)*(CARD_SIZE.x+CARD_MARGIN.x), y: IN_SET.y+(i%3)*(CARD_SIZE.y+CARD_MARGIN.y)};\n//   drawCard(pos, 1);\n//   drawNullCard( pos, 1);\n// }\n\n\n"],"sourceRoot":""}